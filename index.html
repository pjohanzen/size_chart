<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mea | Tailored Women's Suiting for Funeral Professionals</title>
    <meta name="description" content="Mea offers tailored women's suiting for funeral professionals. Affordable. Durable. Custom fit.">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Inter:wght@200;300;400;500;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'serif': ['"DM Serif Display"', 'serif'],
                        'sans': ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'mea-black': '#111111',
                        'mea-gray': '#e5e5e5',
                        'mea-dark-gray': '#777777',
                        'mea-peach': '#ffb6a3',
                        'mea-peach-light': '#ffe8e2',
                    },
                    boxShadow: {
                        'elegant': '0 4px 20px -2px rgba(0, 0, 0, 0.04)',
                        'premium': '0 10px 30px -5px rgba(0, 0, 0, 0.08)',
                    },
                    animation: {
                        'fade-in': 'fadeIn 1s ease-in-out',
                        'slide-up': 'slideUp 0.8s ease-out',
                        'slide-down': 'slideDown 0.8s ease-out',
                        'slide-in-right': 'slideInRight 0.8s ease-out',
                        'slow-pulse': 'slowPulse 3s infinite',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(20px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' },
                        },
                        slideDown: {
                            '0%': { transform: 'translateY(-20px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' },
                        },
                        slideInRight: {
                            '0%': { transform: 'translateX(-20px)', opacity: '0' },
                            '100%': { transform: 'translateX(0)', opacity: '1' },
                        },
                        slowPulse: {
                            '0%, 100%': { opacity: '1' },
                            '50%': { opacity: '0.8' },
                        },
                    },
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #fcfcfc;
        }
        .serif {
            font-family: 'DM Serif Display', serif;
        }
        .letter-spacing-wide {
            letter-spacing: 0.05em;
        }
        .letter-spacing-wider {
            letter-spacing: 0.1em;
        }
        .premium-gradient {
            background: linear-gradient(135deg, #ffb6a3 0%, #ffc1b1 100%);
        }
        .text-gradient {
            background: linear-gradient(to right, #111111, #555555);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .hover-line::after {
            content: '';
            display: block;
            width: 0;
            height: 1px;
            background: currentColor;
            transition: width 0.3s ease;
        }
        .hover-line:hover::after {
            width: 100%;
        }
        .scale-up {
            transition: transform 0.3s ease;
        }
        .scale-up:hover {
            transform: scale(1.02);
        }
        .feature-card {
            position: relative;
            overflow: hidden;
            z-index: 1;
            transition: all 0.4s ease;
        }
        .feature-card::before {
            content: '';
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            background: linear-gradient(135deg, rgba(255, 182, 163, 0.1) 0%, rgba(255, 182, 163, 0.05) 100%);
            z-index: -1;
            opacity: 0;
            transition: opacity 0.4s ease;
        }
        .feature-card:hover::before {
            opacity: 1;
        }
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px -10px rgba(0, 0, 0, 0.05);
        }
        /* Premium hover/transition effects */
        a, button, .feature-card, .scale-up, .inline-flex img {
            transition: all 0.3s cubic-bezier(.4,0,.2,1);
        }
        a:hover, button:hover {
            filter: brightness(0.95);
            box-shadow: 0 4px 24px 0 rgba(255,182,163,0.10);
        }
        .feature-card:hover, .scale-up:hover {
            transform: translateY(-4px) scale(1.03);
            box-shadow: 0 8px 32px 0 rgba(255,182,163,0.13);
        }
        .inline-flex img:hover {
            filter: grayscale(0%) brightness(1.05);
            transform: scale(1.04);
        }
        .premium-gradient, .bg-mea-peach-light {
            transition: background 0.4s cubic-bezier(.4,0,.2,1);
        }
        .serif {
            letter-spacing: 0.01em;
        }
        .cta-btn {
            box-shadow: 0 2px 16px 0 rgba(255,182,163,0.10);
            border-radius: 9999px;
            font-size: 1.1rem;
            padding-left: 2.5rem;
            padding-right: 2.5rem;
            padding-top: 1rem;
            padding-bottom: 1rem;
        }
        .cta-btn:hover {
            background: linear-gradient(90deg, #ffb6a3 0%, #ffc1b1 100%);
            color: #fff !important;
            box-shadow: 0 8px 32px 0 rgba(255,182,163,0.18);
        }
        
        /* Size Chart Styles */
        .size-chart-tab {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .size-chart-tab:hover {
            color: #ffb6a3;
        }
        
        .size-chart-tab.active {
            color: #ffb6a3;
            border-bottom-color: #ffb6a3;
        }
        
        .size-chart-content {
            display: none;
        }
        
        .size-chart-content.active {
            display: block;
        }
        
        .size-chart-content table {
            font-size: 0.875rem;
        }
        
        .size-chart-content th,
        .size-chart-content td {
            padding: 0.5rem 0.25rem;
            text-align: center;
            border: 1px solid #d1d5db;
        }
        
        .size-chart-content th:first-child,
        .size-chart-content td:first-child {
            text-align: left;
            padding-left: 0.75rem;
        }
        
        .size-chart-content table {
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
        }
        
        .size-chart-content th {
            background-color: #fef2f2;
            font-weight: 600;
            color: #374151;
        }
        
        .size-chart-content .bg-red-50 {
            background-color: #fef2f2;
        }
        
        .size-chart-content .bg-blue-50 {
            background-color: #eff6ff;
        }
        
        .size-chart-content .bg-mea-peach-light {
            background-color: #ffe8e2;
        }
        
        @media (max-width: 768px) {
            .size-chart-content table {
                font-size: 0.75rem;
            }
            
            .size-chart-content th,
            .size-chart-content td {
                padding: 0.25rem 0.125rem;
            }
        }
        .fade {
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.5s cubic-bezier(.4,0,.2,1), visibility 0.5s cubic-bezier(.4,0,.2,1);
        }
        .fade.show {
            opacity: 1;
            visibility: visible;
            transition: opacity 0.5s cubic-bezier(.4,0,.2,1), visibility 0.5s cubic-bezier(.4,0,.2,1);
        }
        .active-benefit,
        button:focus.active-benefit {
            background-color: #ffe8e2;
            box-shadow: 0 2px 8px 0 rgba(255,182,163,0.10);
        }
        .active-benefit span {
            width: 3rem !important;
            background-color: #ffb6a3;
        }
        #styleSuitForm input[type="text"],
        #styleSuitForm input[type="radio"],
        #styleSuitForm select {
            transition: border-color 0.2s, box-shadow 0.2s;
        }
        #styleSuitForm input[type="text"]:focus,
        #styleSuitForm select:focus {
            border-color: #ffb6a3;
            box-shadow: 0 0 0 2px #ffe8e2;
        }
        #styleSuitForm label {
            margin-bottom: 0.25rem;
        }
    </style>
</head>
<body class="bg-white text-mea-black overflow-x-hidden flex flex-col">
    <!-- Navigation -->
    <nav class="fixed w-full bg-white z-50 backdrop-blur-md border-b border-gray-100 animate-fade-in" data-aos="fade-down" data-aos-delay="100">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-24">
                <div class="flex">
                    <div class="flex-shrink-0 flex items-center">
                        <img src="logo.png" alt="Mea" class="h-24 w-auto animate-fade-in">
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="relative min-h-screen flex items-center bg-white pt-20" data-aos="fade-up" data-aos-delay="200">
        
        <div class="absolute inset-0 z-0 overflow-hidden">
            <img src="Hero_section.jpg" alt="Mea suits for women" class="w-full h-full object-cover opacity-80" style="object-position: center 20%;">
            <div class="absolute inset-0 bg-black opacity-50"></div>
        </div>
        
        <div class="relative z-10 max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-24 md:py-32">
            <div class="max-w-2xl mx-auto space-y-8 text-center">
                <h1 data-aos="fade-up" data-aos-delay="200" class="serif text-5xl md:text-6xl lg:text-7xl leading-tight" style="color: white;">The Only Suit For Female Funeral Directors</h1>
                <p data-aos="fade-up" data-aos-delay="250" class="serif text-2xl md:text-3xl lg:text-4xl leading-tight" style="color: white;">Made Just For You</p>
                <div data-aos="fade-up" data-aos-delay="400" class="pt-8">
                    <a href="#preorder" class="inline-flex items-center px-10 py-3 border border-mea-peach text-mea-peach hover:bg-mea-peach hover:text-white transition-all duration-300 text-xs font-light tracking-widest uppercase">
                        GET STARTED
                    </a>
                </div>
            </div>
        </div>
        
        <div class="absolute bottom-10 left-1/2 transform -translate-x-1/2 animate-bounce">
            <a href="#about" class="text-mea-dark-gray hover:text-mea-black transition-colors duration-300">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
                </svg>
            </a>
        </div>
    </section>

    <!-- Founder Note Section -->
    <section id="about" class="py-24 md:py-32 bg-mea-peach-light" data-aos="fade-up" data-aos-delay="300">
        <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row items-center md:items-start gap-12">
                <div class="w-full md:w-1/2 flex justify-center md:justify-start mb-8 md:mb-0">
                    <img src="Our_story.jpg" alt="Our Story" class="rounded-2xl shadow-lg w-full max-w-md object-cover" />
                </div>
                <div class="w-full md:w-2/3 text-left space-y-6">
                    <p class="text-2xl font-light tracking-[.25em] uppercase text-mea-black mb-6">Our Story</p>
                    <p class="text-lg md:text-xl text-mea-dark-gray leading-relaxed font-light">Two years ago, we launched FD Bespoke to make a better way for funeral directors to get suits.</p>
                    <p class="text-lg md:text-xl text-mea-dark-gray leading-relaxed font-light">But, most men in funeral service have everything they need. It’s easy to pick up a men’s suit at a department store that fits well enough from an established brand that makes a good suit.</p>
                    <p class="text-lg md:text-xl text-mea-dark-gray leading-relaxed font-light">Women don’t have it so easy. Most women’s suit sizes just don’t work and women’s suits are built for the runway, not the prep room.</p>
                    <p class="text-lg md:text-xl text-mea-dark-gray leading-relaxed font-light">In the next 15 years, women will take over the funeral industry. Women’s suiting has to change.</p>
                    <p class="text-lg md:text-xl text-mea-dark-gray leading-relaxed font-light">Mea exists to create a suit that female funeral directors love to wear.</p>
                    <p class="text-lg md:text-xl text-mea-dark-gray leading-relaxed font-light">Our suits meet the demands of funeral service and make you look your best.</p>
                    <p class="text-lg md:text-xl text-mea-dark-gray leading-relaxed font-light">Our goal is to give you a suit that the men will be jealous of.</p>
                    <div class="mt-8 flex items-center justify-center w-full text-center">
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Benefits Section -->
    <section class="py-24 md:py-32 bg-white" data-aos="fade-up" data-aos-delay="400">
        <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-8 md:mb-16">
                <h2 class="serif text-3xl md:text-4xl">What Makes Mea Different</h2>
            </div>
            <div class="flex flex-col md:flex-row justify-center items-stretch gap-y-1 md:gap-y-2 gap-x-12 md:gap-x-20 text-center md:text-left w-full" id="benefits-row">
                <!-- Left Side: List Menu (Desktop) and Highlighted Title/Nav (Mobile) -->
                <div class="flex flex-col gap-2 md:gap-8 w-full md:w-56 justify-center h-full items-center md:items-start md:mt-0">
                    <!-- Desktop List Menu -->
                    <div id="benefitsListMenu" class="hidden md:flex flex-col gap-2 w-full">
                        <button class="benefit-list-item font-light text-xs tracking-widest uppercase px-4 py-2 rounded-md relative text-mea-dark-gray hover:bg-mea-peach-light hover:scale-105 hover:shadow-sm transition-all duration-200 text-left" data-index="0">Custom Fit</button>
                        <button class="benefit-list-item font-light text-xs tracking-widest uppercase px-4 py-2 rounded-md relative text-mea-dark-gray hover:bg-mea-peach-light hover:scale-105 hover:shadow-sm transition-all duration-200 text-left" data-index="1">Real Pockets</button>
                        <button class="benefit-list-item font-light text-xs tracking-widest uppercase px-4 py-2 rounded-md relative text-mea-dark-gray hover:bg-mea-peach-light hover:scale-105 hover:shadow-sm transition-all duration-200 text-left" data-index="2">Durable + Stretch Fabric</button>
                        <button class="benefit-list-item font-light text-xs tracking-widest uppercase px-4 py-2 rounded-md relative text-mea-dark-gray hover:bg-mea-peach-light hover:scale-105 hover:shadow-sm transition-all duration-200 text-left" data-index="3">Built Smart</button>
                        <button class="benefit-list-item font-light text-xs tracking-widest uppercase px-4 py-2 rounded-md relative text-mea-dark-gray hover:bg-mea-peach-light hover:scale-105 hover:shadow-sm transition-all duration-200 text-left" data-index="4">Your Style</button>
                </div>
                    <!-- Mobile Highlighted Title and Navigation -->
                    <div class="md:hidden w-full flex flex-col gap-2 items-center justify-center">
                        <div class="flex items-center justify-center gap-6 w-full">
                            <button id="prevBenefitBtn" class="font-light text-base tracking-widest uppercase focus:outline-none transition-colors duration-200 hover:bg-mea-peach-light hover:scale-105 hover:shadow-md p-3 rounded-md relative group">
                                <i class="fas fa-chevron-left text-mea-peach text-xl"></i>
                            </button>
                            <div id="currentBenefit" class="font-light text-base tracking-widest uppercase px-8 py-4 text-white bg-mea-peach rounded-md shadow-premium relative group min-w-[200px] text-center">
                                <span class="relative z-10">Custom Fit</span>
                                <div class="absolute inset-0 bg-gradient-to-r from-mea-peach to-[#ff9770] rounded-md opacity-90"></div>
                            </div>
                            <button id="nextBenefitBtn" class="font-light text-base tracking-widest uppercase focus:outline-none transition-colors duration-200 hover:bg-mea-peach-light hover:scale-105 hover:shadow-md p-3 rounded-md relative group">
                                <i class="fas fa-chevron-right text-mea-peach text-xl"></i>
                            </button>
                        </div>
                    </div>
                </div>
                <!-- Right Side: Content Area (Description and Images) -->
                <div class="flex-1 flex flex-col items-center md:items-start w-full md:w-2/3 md:pl-12">
                    <div id="benefitsContentArea" class="flex-1 flex flex-col items-center md:items-start w-full">
                        <div id="customFitDesc" class="text-mea-dark-gray text-base font-light mt-8 mb-12 max-w-2xl mx-auto md:mx-0 text-center md:text-left fade show">
                        We walk you through how to provide specific measurements so your suit fits exactly how you want.
                    </div>
                        <div id="realPocketsDesc" class="text-mea-dark-gray text-base font-light mt-8 mb-12 max-w-2xl mx-auto md:mx-0 text-center md:text-left hidden fade">
                        We include real pockets inside and outside your suit jacket + on pants/skirts, so you don't have to carry a bag on the go.
                    </div>
                        <div id="durableDesc" class="text-mea-dark-gray text-base font-light mt-8 mb-12 max-w-2xl mx-auto md:mx-0 text-center md:text-left hidden fade">
                        Our signature stretch fabric is 8% spandex for high flexibility, 30% wool for breathability, and the rest made from synthetic fibers for durability. You'll love the way this suit feels.
                    </div>
                        <div id="smartDesc" class="text-mea-dark-gray text-base font-light mt-8 mb-12 max-w-2xl mx-auto md:mx-0 text-center md:text-left hidden fade">
                        We add an elastic adjuster in the waistband so your pants fit any time of the month and only use butterfly linings to give you more flexibility in the upper back.
                    </div>
                        <div id="styleDesc" class="text-mea-dark-gray text-base font-light mt-8 mb-12 max-w-2xl mx-auto md:mx-0 text-center md:text-left hidden fade">
                        You can customize just about anything on your suit: embroider your name on the inside, choose your lining, pocket locations, stitching, buttons, and more!
                    </div>
                        <div class="grid grid-cols-2 gap-4 md:gap-10 w-full" id="whatMakesMeaDifferentImages">
                        <div class="overflow-hidden rounded-xl shadow-premium bg-white flex justify-center">
                            <img id="whatMakesMeaDifferentImg1" src="Custom_Fit2.jpg" alt="Woman in Mea suit" class="w-full max-w-md h-auto object-cover transition-all duration-500 fade show" loading="lazy">
                        </div>
                        <div class="overflow-hidden rounded-xl shadow-premium bg-white flex justify-center">
                            <img id="whatMakesMeaDifferentImg2" src="Custom_Fit1.jpg" alt="Mea suit lining detail" class="w-full max-w-md h-auto object-cover transition-all duration-500 fade show" loading="lazy">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonial Section -->
    <section class="py-24 md:py-32 bg-mea-peach-light" data-aos="fade-up" data-aos-delay="500">
        <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-center">
                <div class="bg-white rounded-2xl shadow-premium p-10 max-w-2xl w-full text-center relative">
                    <div class="absolute left-8 top-8 text-mea-peach text-5xl opacity-30 select-none" aria-hidden="true">"</div>
                    <p class="serif text-2xl md:text-3xl italic mb-8 leading-relaxed text-mea-black z-10 relative">
                        The absolute best customer service you can ask for… the quality of the suits were really amazing and I could not be happier with them!
                    </p>
                    <div class="flex items-center justify-center gap-2 mt-6">
                        <span class="w-6 border-t border-mea-peach"></span>
                        <span class="font-light text-xs tracking-widest uppercase text-mea-dark-gray">Dakota J. • Oklahoma</span>
                        <span class="w-6 border-t border-mea-peach"></span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- How It Works Section -->
    <section id="process" class="py-24 md:py-32 bg-white border-t border-gray-100" data-aos="fade-up" data-aos-delay="600">
        <div class="max-w-5xl mx-auto px-4 sm:px-8 md:px-16 lg:px-20">
            <div class="text-center mb-20">
                <p class="text-[10px] font-light tracking-[.25em] uppercase text-mea-peach mb-6">The Process</p>
                <h2 class="serif text-3xl md:text-4xl mb-2">How It Works</h2>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-12 items-center text-center w-full">
                <!-- First Suit -->
                <div class="flex flex-col items-center text-center max-w-xs mx-auto">
                    <div class="w-16 h-16 flex items-center justify-center rounded-full bg-mea-peach-light text-mea-peach text-2xl mb-5 shadow-none">
                        <i class="fas fa-tshirt"></i>
                    </div>
                    <div class="font-semibold text-mea-black text-base md:text-lg mb-2">First Suit</div>
                    <div class="text-mea-dark-gray text-sm md:text-base font-light max-w-[18rem]">We make your first suit in a standard size.</div>
                </div>
                <!-- Give Feedback -->
                <div class="flex flex-col items-center text-center max-w-xs mx-auto">
                    <div class="w-16 h-16 flex items-center justify-center rounded-full bg-mea-peach-light text-mea-peach text-2xl mb-5 shadow-none">
                        <i class="fas fa-comment-dots"></i>
                    </div>
                    <div class="font-semibold text-mea-black text-base md:text-lg mb-2">Give Feedback</div>
                    <div class="text-mea-dark-gray text-sm md:text-base font-light max-w-[18rem]">Let us know what you want to adjust.</div>
                </div>
                <!-- Profile Saved -->
                <div class="flex flex-col items-center text-center max-w-xs mx-auto">
                    <div class="w-16 h-16 flex items-center justify-center rounded-full bg-mea-peach-light text-mea-peach text-2xl mb-5 shadow-none">
                        <i class="fas fa-user-check"></i>
                    </div>
                    <div class="font-semibold text-mea-black text-base md:text-lg mb-2">Profile Saved</div>
                    <div class="text-mea-dark-gray text-sm md:text-base font-light max-w-[18rem]">We adjust your measurement profile so your next suit fits even better!</div>
                </div>
            </div>
         </div>
     </section>

    <!-- CTA/Preorder Section -->
    <section id="preorder" class="py-28 md:py-36 bg-mea-peach-light relative border-t border-gray-100" data-aos="fade-up" data-aos-delay="700">
        <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
            <div class="max-w-2xl mx-auto text-center">
                <p class="text-lg md:text-2xl font-semibold tracking-[.25em] uppercase text-black mb-6">Limited Time Offer</p>
                <h2 class="serif text-3xl md:text-4xl mb-6">First Suit Deal</h2>
                <p class="text-xl md:text-2xl font-semibold mb-6 text-mea-dark-gray">Get your custom suit for just <span class="line-through text-mea-dark-gray">$425</span> <span class="text-mea-peach">$299</span>.</p>
                <a href="#" class="inline-flex items-center px-10 py-3 border border-mea-peach bg-mea-peach text-white hover:bg-[#ff9770] hover:text-white transition-all duration-300 text-xs font-light tracking-widest uppercase">
                    Start Your Order
                </a>
            </div>
        </div>
    </section>


    <!-- Footer -->
    <footer class="py-12 bg-mea-gray border-t border-gray-100 animate-fade-in mt-auto" data-aos="fade-up" data-aos-delay="800">
        <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row justify-between items-start gap-8">
                <div class="flex flex-col gap-6 items-center md:items-start">
                    <img src="logo.png" alt="Mea" class="h-8 w-auto mb-2">
                    <div class="flex flex-col gap-2 text-xs text-mea-dark-gray tracking-widest uppercase text-center md:text-left">
                        <span><strong>Email:</strong> <a href="mailto:hello@measuit.com" class="underline hover:text-mea-peach transition-colors lowercase">hello@measuit.com</a></span>
                        <span><strong>Phone:</strong> <a href="tel:8017544336" class="hover:text-mea-peach transition-colors">801 754 4336</a></span>
                    </div>
                    <div class="text-xs text-mea-dark-gray tracking-widest uppercase text-center md:text-left">© 2025 Mea | All rights reserved</div>
                </div>
                <div class="w-full md:w-1/2">
                    <h3 class="text-lg font-semibold mb-2">Not Ready To Order Yet? No Problem.</h3>
                    <p class="text-sm text-mea-dark-gray mb-4">Join our email list and get $50 off your first suit when we launch.</p>
                    <div class="flex flex-col sm:flex-row gap-4">
                        <input type="email" id="email-signup-input" class="flex-1 border border-mea-gray rounded px-4 py-2 focus:outline-none focus:border-mea-peach" placeholder="Enter your email">
                        <button id="email-signup-button" class="bg-mea-peach text-white px-6 py-2 rounded hover:bg-[#ff9770] transition text-sm font-semibold whitespace-nowrap">Sign Up</button>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Modal for Start Your Order -->
    <div id="orderModal" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 hidden overflow-y-auto">
      <div class="bg-white w-full max-w-xs sm:max-w-xl md:max-w-2xl p-2 sm:p-8 md:p-10 my-1 sm:my-2 relative animate-fade-in rounded-2xl sm:rounded-3xl border border-mea-peach shadow-2xl overflow-y-auto max-h-[100vh]" style="background: linear-gradient(135deg, #fff8f6 0%, #fff 100%);">
        <button id="closeOrderModal" class="absolute top-4 right-4 text-mea-dark-gray hover:text-mea-peach text-2xl">&times;</button>
        <!-- Step 1: Contact Details -->
        <div id="orderStep1" class="order-step">
          <h3 class="serif text-2xl sm:text-3xl mb-8 text-center text-mea-peach">Contact Details</h3>
          <form id="orderContactForm" class="space-y-4 sm:space-y-6">
            <div>
              <label for="orderName" class="block text-xs font-semibold mb-1">Name *</label>
              <input type="text" id="orderName" name="orderName" required class="w-full border border-mea-gray rounded px-3 py-2 focus:outline-none focus:border-mea-peach" placeholder="Enter your full name" />
            </div>
            <div>
              <label for="orderPhone" class="block text-xs font-semibold mb-1">Phone *</label>
              <input type="tel" id="orderPhone" name="orderPhone" required class="w-full border border-mea-gray rounded px-3 py-2 focus:outline-none focus:border-mea-peach" placeholder="(123) 456-7890" pattern="[0-9]{3}[0-9]{3}[0-9]{4}" />
            </div>
            <div>
              <label for="orderEmail" class="block text-xs font-semibold mb-1">Email *</label>
              <input type="email" id="orderEmail" name="orderEmail" required class="w-full border border-mea-gray rounded px-3 py-2 focus:outline-none focus:border-mea-peach" placeholder="your.email@example.com" />
            </div>
            <div class="flex justify-end pt-4">
              <button type="button" id="orderNextBtn1" class="bg-mea-peach text-white px-6 py-2 rounded hover:bg-[#ff9770] transition">Next</button>
            </div>
          </form>
        </div>
        
        <!-- Step 2: Pick Your Size -->
        <div id="orderStep2" class="order-step hidden">
          <h3 class="serif text-2xl sm:text-3xl mb-3 text-center text-mea-peach">Pick Your Size</h3>
          <p class="mb-6 text-center text-sm text-mea-dark-gray max-w-2xl mx-auto">Jacket size is based on your bust measurement. The numbers below are finished garment measurements, not body measurements.</p>
          <div class="flex flex-col md:flex-row gap-6 md:gap-10">
            <!-- Jacket -->
            <div class="flex-1 border border-mea-peach rounded-2xl p-4 md:p-6 bg-white shadow-sm">
              <div class="text-mea-peach font-semibold uppercase text-sm mb-3 tracking-widest">Jacket</div>
              <form id="sizeForm" class="space-y-4">
                <div>
                  <label class="block text-xs font-semibold mb-1">Size</label>
                  <select id="jacketSize" name="jacketSize" class="border rounded px-2 py-1 w-full"></select>
                </div>
                <div>
                  <label class="block text-xs font-semibold mb-1">Length</label>
                  <select id="jacketLength" name="jacketLength" class="border rounded px-2 py-1 w-full">
                    <option value="Extra Short">Extra Short</option>
                    <option value="Short">Short</option>
                    <option value="Regular" selected>Regular</option>
                    <option value="Tall">Tall</option>
                    <option value="Extra Tall">Extra Tall</option>
                  </select>
                </div>
                <div>
                  <label class="block text-xs font-semibold mb-1">Width</label>
                  <select id="jacketWidth" name="jacketWidth" class="border rounded px-2 py-1 w-full">
                    <option value="Skinny">Skinny</option>
                    <option value="Slim">Slim</option>
                    <option value="Regular" selected>Regular</option>
                    <option value="Loose">Loose</option>
                    <option value="Extra Loose">Extra Loose</option>
                  </select>
                </div>
                <div class="text-xs text-mea-dark-gray">Selected Jacket: <span id="jacketPreview" class="font-semibold text-mea-black">-</span></div>
              </form>
            </div>
            <!-- Pants -->
            <div class="flex-1 border border-mea-peach rounded-2xl p-4 md:p-6 bg-white shadow-sm">
              <div class="text-mea-peach font-semibold uppercase text-sm mb-3 tracking-widest">Pants</div>
              <div class="space-y-4">
                <div>
                  <label class="block text-xs font-semibold mb-1">Size</label>
                  <select id="pantsSize" name="pantsSize" class="border rounded px-2 py-1 w-full"></select>
                </div>
                <div>
                  <label class="block text-xs font-semibold mb-1">Length</label>
                  <select id="pantsLength" name="pantsLength" class="border rounded px-2 py-1 w-full">
                    <option value="Extra Short">Extra Short</option>
                    <option value="Short">Short</option>
                    <option value="Regular" selected>Regular</option>
                    <option value="Tall">Tall</option>
                    <option value="Extra Tall">Extra Tall</option>
                  </select>
                </div>
                <div>
                  <label class="block text-xs font-semibold mb-1">Width</label>
                  <select id="pantsWidth" name="pantsWidth" class="border rounded px-2 py-1 w-full">
                    <option value="Skinny">Skinny</option>
                    <option value="Slim">Slim</option>
                    <option value="Regular" selected>Regular</option>
                    <option value="Loose">Loose</option>
                    <option value="Extra Loose">Extra Loose</option>
                  </select>
                </div>
                <div class="text-xs text-mea-dark-gray">Selected Pants: <span id="pantsPreview" class="font-semibold text-mea-black">-</span></div>
              </div>
            </div>
          </div>
          <div class="flex items-center justify-between pt-6">
            <button type="button" id="openSizeChart" class="inline-flex items-center gap-2 border border-mea-peach bg-mea-peach text-white px-4 py-2 rounded hover:bg-[#ff9770] transition shadow-sm">
              <span class="fa-solid fa-ruler"></span>
              <span>View Size Chart</span>
            </button>
            <div class="flex gap-3">
              <button type="button" id="orderBackBtn2" class="text-mea-peach px-4 py-2 rounded hover:underline">Back</button>
              <button type="button" id="orderNextBtn2" class="bg-mea-peach text-white px-6 py-2 rounded hover:bg-[#ff9770] transition">Next</button>
            </div>
          </div>
        </div>
        
        <!-- Step 5: Style Your Suit -->
        <div id="orderStep5" class="order-step hidden">
          <h3 class="serif text-2xl sm:text-3xl mb-8 text-center text-mea-peach">Style Your Suit</h3>
          <form id="styleSuitForm" class="space-y-12 text-left bg-white border border-mea-peach rounded-2xl shadow-lg p-6 md:p-10 max-h-[70vh] overflow-y-auto">
            <div>
              <div class="text-mea-peach font-semibold uppercase text-sm md:text-base mb-2 tracking-widest underline underline-offset-4">Fabric</div>
              <label class="block font-semibold mb-2">Suit Fabric Color</label>
              <select id="fabricColorSelect" name="fabricColor" class="border rounded px-2 py-1 w-full mb-2">
                <option value="Black" selected>Black</option>
                <option value="Charcoal Gray">Charcoal Gray</option>
                <option value="Navy Blue">Navy Blue</option>
                <option value="Gray">Gray</option>
                <option value="Blue">Blue</option>
                <option value="Dark Red">Dark Red</option>
                <option value="Dark Green">Dark Green</option>
                <option value="Other">Other</option>
              </select>
              <input type="text" id="fabricColorOtherInput" name="fabricColorOther" class="border rounded px-2 py-1 w-full mb-2 hidden" placeholder="Please specify other color">
            </div>
            <div>
              <div class="text-mea-peach font-semibold uppercase text-sm md:text-base mb-2 tracking-widest underline underline-offset-4">Lining</div>
              <label class="block font-semibold mb-2">Custom Lining ($+30)? <a href="https://drive.google.com/drive/folders/1qJdEScWpiVMUsVwR9o4C45W-txixXwfc" target="_blank" class="underline text-mea-peach">(See Catalog here)</a></label>
              <label class="mr-4"><input type="radio" name="customLining" value="Yes"> Yes</label>
              <input type="text" id="customLiningCodeInput" name="customLiningCode" class="border rounded px-2 py-1 w-full mb-2 hidden" placeholder="Enter lining code">
              <label><input type="radio" name="customLining" value="No" checked> No</label>
            </div>
            <div>
              <div class="text-mea-peach font-semibold uppercase text-sm md:text-base mb-2 tracking-widest underline underline-offset-4">Embroidery</div>
              <label class="block font-semibold mb-2">Inner Embroidery Text (On lining fabric)</label>
              <img src="Inner Embroidery Text (On lining fabric).jpg" alt="Inner Embroidery Text Example" class="w-full max-w-md h-auto rounded-lg mt-4 mb-2 cursor-pointer border border-mea-peach hover:shadow-lg transition" onclick="openImageModal('Inner Embroidery Text (On lining fabric).jpg')">
              <label class="mr-4"><input type="radio" name="embroideryText" value="Yes" checked> Yes</label>
              <input type="text" id="embroideryTextInput" name="embroideryTextValue" class="border rounded px-2 py-1 w-full mb-2" placeholder="Enter embroidery text">
              <label><input type="radio" name="embroideryText" value="None"> None</label>
              <label class="block font-semibold mb-2 mt-4">Inner Embroidery Threading Color</label>
              <select name="embroideryThreadColor" class="border rounded px-2 py-1 w-full mb-2">
                <option value="">Select a color</option>
                <option>Dark Blue</option>
                <option>Purple</option>
                <option>Red</option>
                <option>Dark Green</option>
                <option>Light Brown</option>
                <option>Brown</option>
                <option>Orange</option>
                <option>Dark gray</option>
                <option>Wine red</option>
                <option>Light Green</option>
                <option>Pink</option>
                <option>Sky blue</option>
                <option>Silver</option>
                <option>White</option>
                <option>Black</option>
                <option>Gold</option>
              </select>
            </div>
            <div>
              <div class="text-mea-peach font-semibold uppercase text-sm md:text-base mb-2 tracking-widest underline underline-offset-4">Jacket</div>
              <label class="block font-semibold mb-2">Shoulder Padding</label>
              <select name="shoulderPadding" class="border rounded px-2 py-1 w-full mb-2">
                <option value="">Select shoulder padding</option>
                <option value="None">None</option>
                <option value="Regular" selected>Regular</option>
                <option value="Thick">Thick</option>
              </select>
              <label class="block font-semibold mb-2 mt-6">Jacket Style</label>
              <select name="jacketStyle" class="border rounded px-2 py-1 w-full mb-2">
                <option value="">Select jacket style</option>
                <option value="Single Breasted, 1 Button" selected>Single Breasted, 1 Button</option>
                <option value="Single Breasted, 2 Button">Single Breasted, 2 Button</option>
                <option value="Double Breasted">Double Breasted</option>
              </select>
              <img src="Jacket Style.jpeg" alt="Jacket Style Example" class="w-full max-w-md h-auto rounded-lg mt-4 mb-2 cursor-pointer border border-mea-peach hover:shadow-lg transition" onclick="openImageModal('Jacket Style.jpeg')">
            </div>
            <div>
              <div class="text-mea-peach font-semibold uppercase text-sm md:text-base mb-2 tracking-widest underline underline-offset-4">Lapel Style</div>
              <select name="lapelStyle" class="border rounded px-2 py-1 w-full mb-2">
                <option value="">Select lapel style</option>
                <option value="Notch" selected>Notch</option>
                <option value="Peak">Peak</option>
                <option value="Shawl">Shawl</option>
                <option value="No Lapel">No Lapel</option>
              </select>
              <img src="Lapel Style.png" alt="Lapel Style Example" class="w-full max-w-md h-auto rounded-lg mt-4 mb-2 cursor-pointer border border-mea-peach hover:shadow-lg transition" onclick="openImageModal('Lapel Style.png')">
            </div>
            <div>
              <div class="text-mea-peach font-semibold uppercase text-sm md:text-base mb-2 tracking-widest underline underline-offset-4">Jacket Back Vents</div>
              <select name="jacketVents" class="border rounded px-2 py-1 w-full mb-2">
                <option value="">Select jacket vents</option>
                <option value="Single Vent, Centered" selected>Single Vent, Centered</option>
                <option value="Double Vent">Double Vent</option>
                <option value="No Vents">No Vents</option>
              </select>
              <img src="Jacket_BackVents.png" alt="Jacket Back Vents Example" class="w-full max-w-md h-auto rounded-lg mt-4 mb-2 cursor-pointer border border-mea-peach hover:shadow-lg transition" onclick="openImageModal('Jacket_BackVents.png')">
            </div>

            <div>
              <div class="text-mea-peach font-semibold uppercase text-sm md:text-base mb-2 tracking-widest underline underline-offset-4">Front Pockets</div>
              <select name="frontPockets" class="border rounded px-2 py-1 w-full mb-2">
                <option value="Yes" selected>Yes</option>
                <option value="No">No</option>
              </select>
            </div>
            <div>
              <div class="text-mea-peach font-semibold uppercase text-sm md:text-base mb-2 tracking-widest underline underline-offset-4">Elastic Waistband Adjuster</div>
              <select name="elasticAdjuster" class="border rounded px-2 py-1 w-full mb-2">
                <option value="Yes" selected>Yes</option>
                <option value="No">No</option>
              </select>
            </div>
            <div>
              <div class="text-mea-peach font-semibold uppercase text-sm md:text-base mb-2 tracking-widest underline underline-offset-4">Belt Loops</div>
              <select name="beltLoops" class="border rounded px-2 py-1 w-full mb-2">
                <option value="Yes" selected>Yes</option>
                <option value="No">No</option>
              </select>
            </div>
            <div>
              <div class="text-mea-peach font-semibold uppercase text-sm md:text-base mb-2 tracking-widest underline underline-offset-4">Back Pockets</div>
              <select name="backPockets" class="border rounded px-2 py-1 w-full mb-2">
                <option value="Yes" selected>Yes</option>
                <option value="No">No</option>
                <option value="Right Side Only">Right Side Only</option>
                <option value="Left Side Only">Left Side Only</option>
              </select>
            </div>
          </form>
          <div class="flex justify-between pt-8">
            <button type="button" id="orderBackBtn5" class="text-mea-peach px-4 py-2 rounded hover:underline">Back</button>
            <button type="button" id="orderNextBtn5" class="bg-mea-peach text-white px-6 py-2 rounded hover:bg-[#ff9770] transition">Next</button>
          </div>
        </div>
        <!-- Step 6: Order -->
        <div id="orderStep6" class="order-step hidden">
          <h3 class="serif text-2xl sm:text-3xl mb-8 text-center text-mea-peach">Order</h3>
          <div class="mb-6 text-center">
            <button type="button" id="orderCheckoutBtn" class="bg-mea-peach text-white px-8 py-3 rounded hover:bg-[#ff9770] transition text-lg font-semibold">Go to Checkout</button>
          </div>
          <div class="flex justify-start pt-8">
            <button type="button" id="orderBackBtn6" class="text-mea-peach px-4 py-2 rounded hover:underline">Back</button>
          </div>
        </div>
        <!-- Step 7: Mea! -->
        <div id="orderStep7" class="order-step hidden">
          <h3 class="serif text-2xl sm:text-3xl mb-8 text-center text-mea-peach">Mea!</h3>
          <p class="mb-6 text-center">Receive your suit in 4-5 weeks. Thank you for your order!</p>
          <div class="flex justify-center pt-8">
            <button type="button" id="orderCloseBtn7" class="bg-mea-peach text-white px-6 py-2 rounded hover:bg-[#ff9770] transition">Close</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Image Modal for Style Suit Placeholders -->
    <div id="imageModal" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 hidden">
      <img id="imageModalImg" src="" alt="Preview" class="max-w-full max-h-[80vh] rounded-2xl shadow-2xl border-4 border-white">
      <button onclick="closeImageModal()" class="absolute top-8 right-8 text-white text-3xl font-bold">&times;</button>
    </div>

    <!-- Size Chart Modal -->
    <div id="sizeChartModal" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 hidden">
      <div class="bg-white w-full max-w-6xl rounded-2xl shadow-2xl p-6 relative max-h-[90vh] overflow-y-auto">
        <button id="closeSizeChart" class="absolute top-4 right-6 text-mea-dark-gray hover:text-mea-peach text-3xl font-bold">&times;</button>
        <h4 class="serif text-2xl mb-6 text-mea-peach text-center">Size Chart & Measurements</h4>
        
        <!-- Size Chart Tabs -->
        <div class="flex border-b border-gray-200 mb-6">
          <button class="size-chart-tab active px-6 py-3 text-sm font-medium border-b-2 border-mea-peach text-mea-peach" data-tab="jacket">Jacket</button>
          <button class="size-chart-tab px-6 py-3 text-sm font-medium text-gray-500 hover:text-mea-peach" data-tab="pants">Pants</button>
          <button class="size-chart-tab px-6 py-3 text-sm font-medium text-gray-500 hover:text-mea-peach" data-tab="custom">Custom Measurements</button>
        </div>

        <!-- Jacket Size Chart -->
        <div id="jacketChart" class="size-chart-content active">
          <div class="mb-4">
            <h5 class="text-lg font-semibold text-mea-black mb-2">Jacket Measurements (Finished Garment)</h5>
            <p class="text-sm text-mea-dark-gray">All measurements are in inches. Length and Sleeve measurements are highlighted in red, Width measurements in blue.</p>
          </div>
          <div class="overflow-x-auto">
            <table class="w-full border-collapse border border-gray-300 text-sm">
              <thead>
                <tr class="bg-mea-peach-light">
                  <th class="border border-gray-300 px-3 py-2 text-left font-semibold">Measurement</th>
                  <th class="border border-gray-300 px-2 py-2 text-center font-semibold">32</th>
                  <th class="border border-gray-300 px-2 py-2 text-center font-semibold">34</th>
                  <th class="border border-gray-300 px-2 py-2 text-center font-semibold">36</th>
                  <th class="border border-gray-300 px-2 py-2 text-center font-semibold">38</th>
                  <th class="border border-gray-300 px-2 py-2 text-center font-semibold">40</th>
                  <th class="border border-gray-300 px-2 py-2 text-center font-semibold">42</th>
                  <th class="border border-gray-300 px-2 py-2 text-center font-semibold">44</th>
                  <th class="border border-gray-300 px-2 py-2 text-center font-semibold">46</th>
                  <th class="border border-gray-300 px-2 py-2 text-center font-semibold">48</th>
                  <th class="border border-gray-300 px-2 py-2 text-center font-semibold">50</th>
                  <th class="border border-gray-300 px-2 py-2 text-center font-semibold">52</th>
                  <th class="border border-gray-300 px-2 py-2 text-center font-semibold">54</th>
                  <th class="border border-gray-300 px-2 py-2 text-center font-semibold">56</th>
                  <th class="border border-gray-300 px-2 py-2 text-center font-semibold">58</th>
                  <th class="border border-gray-300 px-2 py-2 text-center font-semibold">60</th>
                </tr>
              </thead>
              <tbody>
                <tr class="bg-red-50">
                  <td class="border border-gray-300 px-3 py-2 font-medium">Length</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">26</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">26.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">27</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">27.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">28</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">28.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">29</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">29.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">30</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">30.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">31</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">31.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">32</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">32.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">33.5</td>
                </tr>
                <tr class="bg-blue-50">
                  <td class="border border-gray-300 px-3 py-2 font-medium">Chest</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">35</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">36.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">38</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">39.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">41</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">42.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">44</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">45.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">47</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">48.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">50</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">51.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">53</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">54.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">56</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">58</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">60</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">62</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">65</td>
                </tr>
                <tr class="bg-blue-50">
                  <td class="border border-gray-300 px-3 py-2 font-medium">Waist</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">29</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">30.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">32</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">33.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">35</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">36.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">38</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">39.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">41</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">42.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">44</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">45.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">47</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">48.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">50</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">52</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">54</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">56</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">58</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">60</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">62</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">63</td>
                </tr>
                <tr class="bg-blue-50">
                  <td class="border border-gray-300 px-3 py-2 font-medium">Hip</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">36</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">37.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">39</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">40.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">42</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">43.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">45</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">46.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">48</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">49.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">51</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">52.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">54</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">55.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">57</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">59</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">61</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">63</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">65</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">66</td>
                </tr>
                <tr class="bg-blue-50">
                  <td class="border border-gray-300 px-3 py-2 font-medium">Shoulder</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">16.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">17</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">17.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">18</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">18.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">19</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">19.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">20</td>
                </tr>
                <tr class="bg-red-50">
                  <td class="border border-gray-300 px-3 py-2 font-medium">Sleeve</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">23</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">23.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">24</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">24.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">25</td>
                </tr>
                <tr class="bg-blue-50">
                  <td class="border border-gray-300 px-3 py-2 font-medium">Bicep</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">14.75</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">15.25</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">15.75</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">16.25</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">16.75</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">17.25</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">17.75</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">18.25</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">18.75</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">19.25</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">19.5</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- Pants Size Chart -->
        <div id="pantsChart" class="size-chart-content hidden">
          <div class="mb-4">
            <h5 class="text-lg font-semibold text-mea-black mb-2">Pants Measurements (Finished Garment)</h5>
            <p class="text-sm text-mea-dark-gray">All measurements are in inches. Length and Bottom measurements are highlighted in red, Width measurements in blue.</p>
          </div>
          <div class="overflow-x-auto">
            <table class="w-full border-collapse border border-gray-300 text-sm">
              <thead>
                <tr class="bg-mea-peach-light">
                  <th class="border border-gray-300 px-3 py-2 text-left font-semibold">Measurement</th>
                  <th class="border border-gray-300 px-2 py-2 text-center font-semibold">28</th>
                  <th class="border border-gray-300 px-2 py-2 text-center font-semibold">30</th>
                  <th class="border border-gray-300 px-2 py-2 text-center font-semibold">32</th>
                  <th class="border border-gray-300 px-2 py-2 text-center font-semibold">34</th>
                  <th class="border border-gray-300 px-2 py-2 text-center font-semibold">36</th>
                  <th class="border border-gray-300 px-2 py-2 text-center font-semibold">38</th>
                  <th class="border border-gray-300 px-2 py-2 text-center font-semibold">40</th>
                  <th class="border border-gray-300 px-2 py-2 text-center font-semibold">42</th>
                  <th class="border border-gray-300 px-2 py-2 text-center font-semibold">44</th>
                  <th class="border border-gray-300 px-2 py-2 text-center font-semibold">46</th>
                  <th class="border border-gray-300 px-2 py-2 text-center font-semibold">48</th>
                  <th class="border border-gray-300 px-2 py-2 text-center font-semibold">50</th>
                  <th class="border border-gray-300 px-2 py-2 text-center font-semibold">52</th>
                  <th class="border border-gray-300 px-2 py-2 text-center font-semibold">54</th>
                  <th class="border border-gray-300 px-2 py-2 text-center font-semibold">56</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="border border-gray-300 px-3 py-2 font-medium">Waist</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">29</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">31</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">33</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">35</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">37</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">39</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">41</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">43</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">45</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">47</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">49</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">51</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">53</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">55</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">57</td>
                </tr>
                <tr class="bg-blue-50">
                  <td class="border border-gray-300 px-3 py-2 font-medium">Hip</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">36</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">37</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">38</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">39</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">40</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">41</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">42</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">43</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">44</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">45</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">46</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">47</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">48</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">49</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">50</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">51</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">52</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">53</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">54</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">55</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">56</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">57</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">58</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">59</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">60</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">61</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">62</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">63</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">64</td>
                </tr>
                <tr>
                  <td class="border border-gray-300 px-3 py-2 font-medium">Crotch</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">24</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">24.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">25</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">25.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">26</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">26.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">27</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">27.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">28</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">28.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">29</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">29.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">30</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">30.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">31</td>
                </tr>
                <tr class="bg-blue-50">
                  <td class="border border-gray-300 px-3 py-2 font-medium">Thigh</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">25</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">26</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">27</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">28</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">29</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">30</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">31</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">32</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">33</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">34</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">35</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">36</td>
                </tr>
                <tr class="bg-red-50">
                  <td class="border border-gray-300 px-3 py-2 font-medium">Bottom</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">13</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">13.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">14</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">14.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">15</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">15.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">16</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">16.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">17</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">17.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">18</td>
                </tr>
                <tr class="bg-red-50">
                  <td class="border border-gray-300 px-3 py-2 font-medium">Length</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">38</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">38.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">39</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">39.5</td>
                  <td class="border border-gray-300 px-2 py-2 text-center">40</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- Custom Measurements Tab -->
        <div id="customMeasurements" class="size-chart-content hidden">
          <div class="mb-6">
            <h5 class="text-lg font-semibold text-mea-black mb-2">Custom Measurements</h5>
            <p class="text-sm text-mea-dark-gray mb-4">Enter your specific measurements if you need adjustments to the standard sizes. All measurements should be in inches.</p>
          </div>
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- Jacket Custom Measurements -->
            <div class="space-y-4">
              <h6 class="font-semibold text-mea-peach border-b border-mea-peach pb-2">Jacket Adjustments</h6>
              <div>
                <label class="block text-sm font-medium mb-1">Length Adjustment (±inches)</label>
                <input type="number" id="jacketLengthAdjust" class="w-full border border-gray-300 rounded px-3 py-2 text-sm" placeholder="0" step="0.25" min="-3" max="3">
              </div>
              <div>
                <label class="block text-sm font-medium mb-1">Chest Adjustment (±inches)</label>
                <input type="number" id="jacketChestAdjust" class="w-full border border-gray-300 rounded px-3 py-2 text-sm" placeholder="0" step="0.25" min="-3" max="3">
              </div>
              <div>
                <label class="block text-sm font-medium mb-1">Waist Adjustment (±inches)</label>
                <input type="number" id="jacketWaistAdjust" class="w-full border border-gray-300 rounded px-3 py-2 text-sm" placeholder="0" step="0.25" min="-3" max="3">
              </div>
              <div>
                <label class="block text-sm font-medium mb-1">Hip Adjustment (±inches)</label>
                <input type="number" id="jacketHipAdjust" class="w-full border border-gray-300 rounded px-3 py-2 text-sm" placeholder="0" step="0.25" min="-3" max="3">
              </div>
              <div>
                <label class="block text-sm font-medium mb-1">Shoulder Adjustment (±inches)</label>
                <input type="number" id="jacketShoulderAdjust" class="w-full border border-gray-300 rounded px-3 py-2 text-sm" placeholder="0" step="0.25" min="-2" max="2">
              </div>
              <div>
                <label class="block text-sm font-medium mb-1">Sleeve Adjustment (±inches)</label>
                <input type="number" id="jacketSleeveAdjust" class="w-full border border-gray-300 rounded px-3 py-2 text-sm" placeholder="0" step="0.25" min="-2" max="2">
              </div>
              <div>
                <label class="block text-sm font-medium mb-1">Bicep Adjustment (±inches)</label>
                <input type="number" id="jacketBicepAdjust" class="w-full border border-gray-300 rounded px-3 py-2 text-sm" placeholder="0" step="0.25" min="-2" max="2">
              </div>
            </div>

            <!-- Pants Custom Measurements -->
            <div class="space-y-4">
              <h6 class="font-semibold text-mea-peach border-b border-mea-peach pb-2">Pants Adjustments</h6>
              <div>
                <label class="block text-sm font-medium mb-1">Waist Adjustment (±inches)</label>
                <input type="number" id="pantsWaistAdjust" class="w-full border border-gray-300 rounded px-3 py-2 text-sm" placeholder="0" step="0.25" min="-3" max="3">
              </div>
              <div>
                <label class="block text-sm font-medium mb-1">Hip Adjustment (±inches)</label>
                <input type="number" id="pantsHipAdjust" class="w-full border border-gray-300 rounded px-3 py-2 text-sm" placeholder="0" step="0.25" min="-3" max="3">
              </div>
              <div>
                <label class="block text-sm font-medium mb-1">Crotch Adjustment (±inches)</label>
                <input type="number" id="pantsCrotchAdjust" class="w-full border border-gray-300 rounded px-3 py-2 text-sm" placeholder="0" step="0.25" min="-2" max="2">
              </div>
              <div>
                <label class="block text-sm font-medium mb-1">Thigh Adjustment (±inches)</label>
                <input type="number" id="pantsThighAdjust" class="w-full border border-gray-300 rounded px-3 py-2 text-sm" placeholder="0" step="0.25" min="-2" max="2">
              </div>
              <div>
                <label class="block text-sm font-medium mb-1">Bottom Adjustment (±inches)</label>
                <input type="number" id="pantsBottomAdjust" class="w-full border border-gray-300 rounded px-3 py-2 text-sm" placeholder="0" step="0.25" min="-2" max="2">
              </div>
              <div>
                <label class="block text-sm font-medium mb-1">Length Adjustment (±inches)</label>
                <input type="number" id="pantsLengthAdjust" class="w-full border border-gray-300 rounded px-3 py-2 text-sm" placeholder="0" step="0.25" min="-2" max="2">
              </div>
            </div>
          </div>

          <div class="mt-6 p-4 bg-mea-peach-light rounded-lg">
            <h6 class="font-semibold text-mea-black mb-2">Measurement Guide</h6>
            <ul class="text-sm text-mea-dark-gray space-y-1">
              <li>• <strong>Length:</strong> Distance from shoulder to desired jacket length</li>
              <li>• <strong>Chest:</strong> Circumference around the fullest part of the bust</li>
              <li>• <strong>Waist:</strong> Circumference at the narrowest part of the waist</li>
              <li>• <strong>Hip:</strong> Circumference around the fullest part of the hips</li>
              <li>• <strong>Shoulder:</strong> Distance from shoulder point to shoulder point</li>
              <li>• <li>• <strong>Sleeve:</strong> Distance from shoulder to desired sleeve length</li>
              <li>• <strong>Bicep:</strong> Circumference around the fullest part of the upper arm</li>
            </ul>
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="flex justify-between items-center mt-8 pt-6 border-t border-gray-200">
          <button id="saveCustomMeasurements" class="bg-mea-peach text-white px-6 py-2 rounded hover:bg-[#ff9770] transition">Save Custom Measurements</button>
          <button id="closeSizeChart" class="text-mea-peach px-6 py-2 rounded hover:underline">Close</button>
        </div>
      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
    <script>
        // Initialize AOS animations
        document.addEventListener('DOMContentLoaded', function() {
            AOS.init({
                duration: 800,
                easing: 'ease-out',
                once: true,
                offset: 100,
                delay: 100
            });

            // Email signup form handling
            const emailSignupForm = document.getElementById('email-signup-button');
            const emailInput = document.getElementById('email-signup-input');

            if (emailSignupForm && emailInput) {
                emailSignupForm.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const email = emailInput.value.trim();
                    
                    // Basic email validation
                    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                    if (!emailRegex.test(email)) {
                        alert('Please enter a valid email address.');
                        return;
                    }

                    // Prepare data for Google Apps Script
                    const data = {
                        type: 'emailSignup',
                        email: email,
                        timestamp: new Date().toISOString()
                    };

                    // Send to Google Apps Script
                    fetch('https://script.google.com/macros/s/AKfycbyGcNk9spSC-RbleKfLL16aCpcAzubqxOqNpdNf3w2ZxW-LoxZ1SQ4LQcb5BcsUjlQ/exec', {
                        method: 'POST',
                        mode: 'no-cors',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(data)
                    })
                    .then(() => {
                        // Clear the input
                        emailInput.value = '';
                        // Show success message
                        alert('Thank you for signing up! You\'ll receive $50 off your first suit when we launch.');
                    })
                    .catch(error => {
                        console.error('Error:', error);
                        alert('There was an error signing up. Please try again.');
                    });
                });
            }
        });
        
        // Smooth scroll for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                const href = this.getAttribute('href');
                // Prevent default for any link starting with #
                e.preventDefault();
                // Only attempt to scroll if the href is not just '#'
                if (href && href !== '#') {
                    const target = document.querySelector(href);
                    if (target) {
                        window.scrollTo({
                            top: target.offsetTop - 80,
                            behavior: 'smooth'
                        });
                    }
                }
                // Let the default action (like modal opening) happen if href is '#'
                // The modal logic is handled separately based on button text/ID
            });
        });

        document.addEventListener('DOMContentLoaded', function() {
            var btnCustom = document.getElementById('customFitBtn');
            var btnPockets = document.getElementById('realPocketsBtn');
            var btnDurable = document.getElementById('durableBtn');
            var btnSmart = document.getElementById('smartBtn');
            var btnStyle = document.getElementById('styleBtn');
            var descCustom = document.getElementById('customFitDesc');
            var descPockets = document.getElementById('realPocketsDesc');
            var descDurable = document.getElementById('durableDesc');
            var descSmart = document.getElementById('smartDesc');
            var descStyle = document.getElementById('styleDesc');
            var img1 = document.getElementById('whatMakesMeaDifferentImg1');
            var img2 = document.getElementById('whatMakesMeaDifferentImg2');

            function fadeSwitch(descToShow, imgSrc1, imgSrc2) {
                var descs = [descCustom, descPockets, descDurable, descSmart, descStyle];
                // Fade out all descriptions
                descs.forEach(function(desc) {
                    if (desc) {
                        desc.classList.remove('show');
                    }
                });
                // Fade out images
                if (img1) img1.classList.remove('show');
                if (img2) img2.classList.remove('show');
                // Wait for fade out to finish before switching content
                setTimeout(function() {
                    descs.forEach(function(desc) {
                        if (desc) {
                            desc.classList.add('hidden');
                        }
                    });
                    if (descToShow) {
                        descToShow.classList.remove('hidden');
                        // Fade in description
                        setTimeout(function() {
                            descToShow.classList.add('show');
                        }, 20);
                    }
                    // Switch images and fade in
                    if (img1) img1.src = imgSrc1;
                    if (img2) img2.src = imgSrc2;
                    setTimeout(function() {
                        if (img1) img1.classList.add('show');
                        if (img2) img2.classList.add('show');
                    }, 20);
                }, 400); // Match the fade-out duration
            }

            function setActiveBenefit(btn) {
                if (!btn) return;
                var benefitBtns = [btnCustom, btnPockets, btnDurable, btnSmart, btnStyle].filter(Boolean);
                benefitBtns.forEach(function(b) {
                    if (b) {
                        b.classList.remove('active-benefit');
                    }
                });
                btn.classList.add('active-benefit');
            }

            // Add event listeners only if buttons exist
            if (btnCustom) {
                btnCustom.addEventListener('click', function() {
                    setActiveBenefit(btnCustom);
                    fadeSwitch(descCustom, 'Custom_Fit2.jpg', 'Custom_Fit1.jpg');
                });
            }
            if (btnPockets) {
                btnPockets.addEventListener('click', function() {
                    setActiveBenefit(btnPockets);
                    fadeSwitch(descPockets, 'Real_Pockets2.jpg', 'Real_Pockets1.jpg');
                });
            }
            if (btnDurable) {
                btnDurable.addEventListener('click', function() {
                    setActiveBenefit(btnDurable);
                    fadeSwitch(descDurable, 'Durable1.jpg', 'Durable2.jpg');
                });
            }
            if (btnSmart) {
                btnSmart.addEventListener('click', function() {
                    setActiveBenefit(btnSmart);
                    fadeSwitch(descSmart, 'Smart1.jpg', 'Smart2.jpg');
                });
            }
            if (btnStyle) {
                btnStyle.addEventListener('click', function() {
                    setActiveBenefit(btnStyle);
                    fadeSwitch(descStyle, 'Style1.jpg', 'Style2.jpg');
                });
            }
            // Set default active on load
            if (btnCustom) {
                setActiveBenefit(btnCustom);
            }
        });

        document.addEventListener('DOMContentLoaded', function() {
            // Modal logic
            var orderModal = document.getElementById('orderModal');
            var closeOrderModal = document.getElementById('closeOrderModal');
            var steps = [
              document.getElementById('orderStep1'),
              document.getElementById('orderStep2'),
              document.getElementById('orderStep5'),
              document.getElementById('orderStep6'),
              document.getElementById('orderStep7')
            ];
            var currentStep = 0;

            const styleSuitForm = document.getElementById('styleSuitForm');
            const selfMeasurementForm = null; // removed step
            const orderContactForm = document.getElementById('orderContactForm');
            const sizeForm = document.getElementById('sizeForm');

            // Generate a unique session ID
            function generateSessionId() {
                return 'session_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
            }

            // Store session ID in localStorage
            let sessionId = localStorage.getItem('meaSessionId');
            if (!sessionId) {
                sessionId = generateSessionId();
                localStorage.setItem('meaSessionId', sessionId);
            }

            // Function to collect form data. If 'section' is provided, only collect that section.
            function getAllFormData(section) {
                const formData = {
                    contact: {},
                    sizes: {},
                    measurement: {},
                    style: {},
                    customMeasurements: {},
                    step: section,
                    sessionId: sessionId,
                    timestamp: new Date().toISOString()
                };

                const collectAll = section == null;

                // Contact (Step 1)
                if ((collectAll || section === 1) && orderContactForm) {
                    new FormData(orderContactForm).forEach((value, key) => {
                        formData.contact[key] = value;
                    });
                }

                // Sizes (Step 2)
                if ((collectAll || section === 2) && sizeForm) {
                    new FormData(sizeForm).forEach((value, key) => {
                        formData.sizes[key] = value;
                    });
                    // Ensure pants fields are captured even if they are outside the form element
                    try {
                        const pantsSizeEl = document.getElementById('pantsSize');
                        const pantsLengthEl = document.getElementById('pantsLength');
                        const pantsWidthEl = document.getElementById('pantsWidth');
                        if (pantsSizeEl) formData.sizes.pantsSize = pantsSizeEl.value || formData.sizes.pantsSize || '';
                        if (pantsLengthEl) formData.sizes.pantsLength = pantsLengthEl.value || formData.sizes.pantsLength || '';
                        if (pantsWidthEl) formData.sizes.pantsWidth = pantsWidthEl.value || formData.sizes.pantsWidth || '';
                    } catch (e) {
                        console.warn('Unable to read pants fields by ID:', e);
                    }
                }

                // Style (Step 5)
                if ((collectAll || section === 5) && styleSuitForm) {
                    new FormData(styleSuitForm).forEach((value, key) => {
                        if (styleSuitForm.querySelector(`input[name="${key}"][type="radio"]`)) {
                            formData.style[key] = styleSuitForm.querySelector(`input[name="${key}"]:checked`)?.value || '';
                        } else {
                            formData.style[key] = value;
                        }
                    });
                }

                // Custom Measurements (always collected)
                const savedCustomMeasurements = localStorage.getItem('meaCustomMeasurements');
                if (savedCustomMeasurements) {
                    try {
                        formData.customMeasurements = JSON.parse(savedCustomMeasurements);
                    } catch (e) {
                        console.warn('Error parsing custom measurements:', e);
                        formData.customMeasurements = {};
                    }
                }

                console.log('Collected form data:', JSON.stringify(formData, null, 2));
                return formData;
            }

            // Function to send form data to Google Apps Script
            function sendFormDataToGoogleSheet(section) {
                const data = getAllFormData(section);
                console.log('Sending data for section', section, ':', JSON.stringify(data, null, 2));

                // Show loading state
                const currentButton = document.querySelector(`#orderNextBtn${section}`);
                let originalText = '';
                if (currentButton) {
                    originalText = currentButton.textContent;
                    currentButton.textContent = 'Saving...';
                    currentButton.disabled = true;
                }

                // Ensure the Google Apps Script URL is correct
                const googleScriptURL = 'https://script.google.com/macros/s/AKfycbzJjwOIgZgKtbZ-nuWD2FNvC_-r4N4eIfv5QCSKGCQU43UTbJYEdg4npcHLk92fzwQQ/exec';

                console.log('Sending data to:', googleScriptURL);
                console.log('Request payload:', JSON.stringify(data, null, 2));

                // Send the data using fetch
                fetch(googleScriptURL, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify(data)
                })
                .then(function(response) {
                    console.log('Response status:', response.status);
                    console.log('Response type:', response.type);
                    console.log('Response headers:', response.headers);
                    
                    // Since we're using no-cors mode, we can't read the response
                    // But we can check if the request was sent successfully
                    if (response.type === 'opaque') {
                        console.log('Request sent successfully (no-cors mode)');
                        console.log('Data should be saved to Google Sheets');
                        return Promise.resolve();
                    }
                    return response.text();
                })
                .then(function(text) {
                    if (text) {
                        console.log('Response text:', text);
                    }
                    console.log('Data sent successfully for step:', section);
                    
                    // Show success message to user
                    const successMessage = document.createElement('div');
                    successMessage.className = 'fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded shadow-lg z-50';
                    successMessage.textContent = 'Data saved successfully!';
                    document.body.appendChild(successMessage);
                    setTimeout(() => successMessage.remove(), 3000);

                    // Restore button state
                    if (currentButton) {
                        currentButton.textContent = originalText;
                        currentButton.disabled = false;
                    }
                })
                .catch(function(error) {
                    console.error('Error sending data:', error);
                    console.error('Error details:', {
                        message: error.message,
                        stack: error.stack,
                        data: data
                    });

                    // Show error message to user
                    const errorMessage = document.createElement('div');
                    errorMessage.className = 'fixed top-4 right-4 bg-red-500 text-white px-4 py-2 rounded shadow-lg z-50';
                    errorMessage.textContent = 'Error saving data. Please try again.';
                    document.body.appendChild(errorMessage);
                    setTimeout(() => errorMessage.remove(), 3000);

                    // Restore button state
                    if (currentButton) {
                        currentButton.textContent = originalText;
                        currentButton.disabled = false;
                    }
                });
            }

            // Function to validate form data before submission
            function validateFormData(data) {
                const errors = [];

                // Validate contact information
                if (data.contact) {
                    if (!data.contact.orderName) errors.push('Name is required');
                    if (!data.contact.orderEmail) errors.push('Email is required');
                    if (!data.contact.orderPhone) errors.push('Phone is required');
                    
                    // Validate email format
                    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                    if (data.contact.orderEmail && !emailRegex.test(data.contact.orderEmail)) {
                        errors.push('Invalid email format');
                    }
                }

                // Validate measurement data
                if (data.measurement) {
                    const requiredMeasurements = [
                        'jacketFrontLengthFinished',
                        'jacketStomachPointFinished',
                        'jacketBackLengthFinished',
                        'jacketChestFinished',
                        'jacketStomachFinished',
                        'jacketHipFinished',
                        'jacketShoulderFinished',
                        'jacketBackWidthFinished',
                        'jacketSleeveLengthFinished',
                        'jacketBicepWidthFinished',
                        'pantsWaistFinished',
                        'pantsHipFinished',
                        'pantsFrontRiseFinished',
                        'pantsBackRiseFinished',
                        'pantsThighFinished',
                        'pantsKneeFinished',
                        'pantsCalfFinished',
                        'pantsBottomWidthFinished',
                        'pantsLengthFinished'
                    ];

                    requiredMeasurements.forEach(measurement => {
                        if (!data.measurement[measurement]) {
                            errors.push(`${measurement} is required`);
                        }
                    });
                }

                // Validate style data
                if (data.style) {
                    if (!data.style.fabricColor) errors.push('Fabric color is required');
                    if (data.style.fabricColor === 'Other' && !data.style.fabricColorOther) {
                        errors.push('Please specify other fabric color');
                    }
                    if (data.style.customLining === 'Yes' && !data.style.customLiningCode) {
                        errors.push('Custom lining code is required');
                    }
                    if (data.style.embroideryText === 'Yes' && !data.style.embroideryTextValue) {
                        errors.push('Embroidery text is required');
                    }
                }

                return errors;
            }

             // Function to save form data to localStorage
            function saveFormData() {
                const formData = getAllFormData();
                localStorage.setItem('meaFormData', JSON.stringify(formData));
            }

            // Function to load form data from localStorage
            function loadFormData() {
                const savedData = localStorage.getItem('meaFormData');
                if (savedData) {
                    const formData = JSON.parse(savedData);

                    // Load Contact Form data
                    if (orderContactForm && formData.contact) {
                        for (const key in formData.contact) {
                            const element = orderContactForm.elements[key];
                            if (element) {
                                element.value = formData.contact[key];
                            }
                        }
                    }

                    // Load Size Form data
                    if (sizeForm && formData.sizes) {
                        for (const key in formData.sizes) {
                            const element = sizeForm.elements[key];
                            if (element) {
                                element.value = formData.sizes[key];
                            }
                        }
                    }

                    // Load Measurement Form data
                    if (selfMeasurementForm && formData.measurement) {
                        for (const key in formData.measurement) {
                            const element = selfMeasurementForm.elements[key];
                            if (element) {
                                element.value = formData.measurement[key];
                            }
                        }
                    }

                    // Load Style Form data
                    if (styleSuitForm && formData.style) {
                        for (const key in formData.style) {
                            const element = styleSuitForm.elements[key];
                            if (element) {
                                if (element.type === 'radio') {
                                    const radioButtons = styleSuitForm.querySelectorAll(`input[name="${key}"]`);
                                    radioButtons.forEach(radio => {
                                        if (radio.value === formData.style[key]) {
                                            radio.checked = true;
                                        }
                                    });
                                } else {
                                    element.value = formData.style[key];
                                }
                            }
                        }
                    }

                    // Trigger change events for elements that might have conditional logic
                    // This is particularly important for showing/hiding the "Other" color input
                     const fabricColorSelect = document.getElementById('fabricColorSelect');
                     if (fabricColorSelect) {
                         const event = new Event('change');
                         fabricColorSelect.dispatchEvent(event);
                     }

                     const customLiningRadios = document.getElementsByName('customLining');
                     if (customLiningRadios.length > 0) {
                        customLiningRadios.forEach(radio => {
                           if (radio.checked) {
                              const event = new Event('change');
                              radio.dispatchEvent(event);
                           }
                        });
                     }

                     const embroideryTextRadios = document.getElementsByName('embroideryText');
                     if (embroideryTextRadios.length > 0) {
                        embroideryTextRadios.forEach(radio => {
                           if (radio.checked) {
                              const event = new Event('change');
                              radio.dispatchEvent(event);
                           }
                        });
                     }
                }
            }


            // Form validation functions
            function validateContactForm() {
                const name = document.getElementById('orderName').value.trim();
                const phone = document.getElementById('orderPhone').value.trim();
                const email = document.getElementById('orderEmail').value.trim();

                if (!name || !phone || !email) {
                    alert('Please fill in all contact information fields.');
                    return false;
                }

                // Validate email format
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailRegex.test(email)) {
                    alert('Please enter a valid email address.');
                    return false;
                }

                // Validate phone format (basic validation)
                const phoneRegex = /^\d{10}$/;
                if (!phoneRegex.test(phone.replace(/\D/g, ''))) {
                    alert('Please enter a valid 10-digit phone number.');
                    return false;
                }

                return true;
            }

            // Measurement form removed

            function validateSizeForm() {
                const jSize = document.getElementById('jacketSize').value;
                const jLength = document.getElementById('jacketLength').value;
                const jWidth = document.getElementById('jacketWidth').value;
                const pSize = document.getElementById('pantsSize').value;
                const pLength = document.getElementById('pantsLength').value;
                const pWidth = document.getElementById('pantsWidth').value;
                if (!jSize || !jLength || !jWidth || !pSize || !pLength || !pWidth) {
                    alert('Please choose sizes for jacket and pants.');
                    return false;
                }
                return true;
            }

            function validateStyleForm() {
                const styleForm = document.getElementById('styleSuitForm');
                const requiredSelects = styleForm.querySelectorAll('select[required]');

                // Check all required selects
                for (let select of requiredSelects) {
                    if (!select.value) {
                        alert('Please select all required style options.');
                        return false;
                    }
                }

                // Check conditional required fields
                const customLiningYes = document.querySelector('input[name="customLining"][value="Yes"]');
                const customLiningCode = document.getElementById('customLiningCodeInput');
                if (customLiningYes && customLiningYes.checked && !customLiningCode.value.trim()) {
                    alert('Please enter the custom lining code');
                    return false;
                }

                const embroideryYes = document.querySelector('input[name="embroideryText"][value="Yes"]');
                const embroideryText = document.getElementById('embroideryTextInput');
                if (embroideryYes && embroideryYes.checked && !embroideryText.value.trim()) {
                    alert('Please enter the embroidery text');
                    return false;
                }

                return true;
            }

            function showStep(idx) {
                steps.forEach(function(step, i) {
                    if (step) step.classList.toggle('hidden', i !== idx);
                });
                currentStep = idx;
            }

            // Next/Back button logic

            // Step 1 (Contact Details) to Step 2 (Pick Your Size)
            document.getElementById('orderNextBtn1').onclick = function() {
                if (validateContactForm()) {
                    sendFormDataToGoogleSheet(1); // save section
                    saveFormData();
                    showStep(1);
                }
            };

            // Step 2 (Pick Your Size)
            document.getElementById('orderBackBtn2').onclick = function() { showStep(0); };
            document.getElementById('orderNextBtn2').onclick = function() {
                if (validateSizeForm()) {
                    sendFormDataToGoogleSheet(2); // save section
                    saveFormData();
                    showStep(2);
                }
            };

            // Measurement step removed

            // Step 3 (Style Your Suit) to Step 4 (Order)
            document.getElementById('orderBackBtn5').onclick = function() { showStep(1); }; // Back to size picker
            document.getElementById('orderNextBtn5').onclick = function() {
                if (validateStyleForm()) {
                    sendFormDataToGoogleSheet(5); // save section
                    saveFormData();
                    showStep(3);
                }
            };

            // Step 6 (Order) - Go to Checkout
            document.getElementById('orderCheckoutBtn').onclick = function() {
                sendFormDataToGoogleSheet(6); // Send final data before checkout (step numbers kept for backend continuity)
                saveFormData();

                // Get selections for Stripe URL
                var customLining = document.querySelector('input[name="customLining"]:checked');
                var stripeUrl = 'https://buy.stripe.com/4gM3cvc2maMC6Xhd1d2wU0L'; // default: 1 Pant No Lining
                
                if (customLining && customLining.value === 'Yes') {
                    stripeUrl = 'https://buy.stripe.com/fZubJ1giC1c26Xh3qD2wU0M'; // 1 Pant Custom Lining
                }

                // Proceed to Stripe checkout
                window.open(stripeUrl, '_blank');
                showStep(4);
            };

            // Step 7 (Mea!) - Close Modal
            document.getElementById('orderCloseBtn7').onclick = function() {
                orderModal.classList.add('hidden');
                showStep(0); // Reset to the first step when closing
            };

            // Modal open/close
            var startOrderBtns = document.querySelectorAll('a[href="#"], a[href="#preorder"]');
            startOrderBtns.forEach(function(btn) {
              if (btn.textContent.trim().toLowerCase().includes('start your order')) {
                btn.addEventListener('click', function(e) {
                  e.preventDefault();
                  orderModal.classList.remove('hidden');
                  showStep(0); // Always start at the first step when opening
                });
              }
            });

            closeOrderModal.addEventListener('click', function() {
              orderModal.classList.add('hidden');
              showStep(0); // Reset to the first step when closing
            });

            orderModal.addEventListener('click', function(e) {
              if (e.target === orderModal) {
                orderModal.classList.add('hidden');
                showStep(0); // Reset to the first step when clicking outside
              }
            });

            // Load form data when the page loads
            loadFormData();

             // Add input/change listeners to save data to localStorage as the user types/selects
            if (orderContactForm) {
                orderContactForm.addEventListener('input', saveFormData);
                 orderContactForm.addEventListener('change', saveFormData);
            }
            if (selfMeasurementForm) {
                selfMeasurementForm.addEventListener('input', saveFormData);
                 selfMeasurementForm.addEventListener('change', saveFormData);
            }
            if (styleSuitForm) {
                styleSuitForm.addEventListener('input', saveFormData);
                 styleSuitForm.addEventListener('change', saveFormData);
            }
            if (sizeForm) {
                sizeForm.addEventListener('input', saveFormData);
                 sizeForm.addEventListener('change', saveFormData);
            }

            // Benefits carousel functionality
            const benefits = [
                {
                    title: 'Custom Fit',
                    desc: document.getElementById('customFitDesc'),
                    img1: 'Custom_Fit2.jpg',
                    img2: 'Custom_Fit1.jpg'
                },
                {
                    title: 'Real Pockets',
                    desc: document.getElementById('realPocketsDesc'),
                    img1: 'Real_Pockets2.jpg',
                    img2: 'Real_Pockets1.jpg'
                },
                {
                    title: 'Durable + Stretch Fabric',
                    desc: document.getElementById('durableDesc'),
                    img1: 'Durable1.jpg',
                    img2: 'Durable2.jpg'
                },
                {
                    title: 'Built Smart',
                    desc: document.getElementById('smartDesc'),
                    img1: 'Smart1.jpg',
                    img2: 'Smart2.jpg'
                },
                {
                    title: 'Your Style',
                    desc: document.getElementById('styleDesc'),
                    img1: 'Style1.jpg',
                    img2: 'Style2.jpg'
                }
            ];

            let currentIndex = 0;
            // Get the mobile-only elements
            const mobileNavContainer = document.querySelector('.md\\:hidden.w-full.flex.flex-col.gap-2.items-center.justify-center');
            // Check if mobileNavContainer exists before querying for its children
             const currentBenefitText = mobileNavContainer ? mobileNavContainer.querySelector('#currentBenefit span') : null;
             const prevBtn = mobileNavContainer ? mobileNavContainer.querySelector('#prevBenefitBtn') : null;
             const nextBtn = mobileNavContainer ? mobileNavContainer.querySelector('#nextBenefitBtn') : null;

            // Get content area elements
            const img1 = document.getElementById('whatMakesMeaDifferentImg1');
            const img2 = document.getElementById('whatMakesMeaDifferentImg2');
            const benefitListItems = document.querySelectorAll('.benefit-list-item');
            const currentBenefitHighlighted = document.getElementById('currentBenefit'); // Get the highlighted element itself

            function updateBenefit(index) {
                // Hide all descriptions
                benefits.forEach(benefit => {
                    benefit.desc.classList.remove('show');
                    benefit.desc.classList.add('hidden');
                });

                // Update current benefit text (Mobile Only)
                 if (window.innerWidth < 768 && currentBenefitText) { // Check if not desktop and element exists
                     currentBenefitText.textContent = benefits[index].title;
                 }

                // Update images
                img1.classList.remove('show');
                img2.classList.remove('show');

                // Update active state in the list menu (Desktop Only) and highlighted title (Desktop Only)
                if (window.innerWidth >= 768) { // md breakpoint
                    benefitListItems.forEach(item => {
                        item.classList.remove('bg-mea-peach-light', 'text-mea-black');
                         item.classList.add('text-mea-dark-gray');
                    });
                     benefitListItems[index].classList.add('bg-mea-peach-light', 'text-mea-black');
                     benefitListItems[index].classList.remove('text-mea-dark-gray');

                     // Update the highlighted title on desktop
                     if (currentBenefitHighlighted) {
                          currentBenefitHighlighted.querySelector('span').textContent = benefits[index].title;
                     }

                }

                // Wait for fade out to finish before switching content
                setTimeout(() => {
                    // Show current description
                    benefits[index].desc.classList.remove('hidden');
                    setTimeout(() => {
                        benefits[index].desc.classList.add('show');
                    }, 20);

                    // Update images
                    img1.src = benefits[index].img1;
                    img2.src = benefits[index].img2;
                    setTimeout(() => {
                        img1.classList.add('show');
                        img2.classList.add('show');
                    }, 20);
                }, 400);

                // Update current index
                currentIndex = index;
            }

            // Event listeners for Previous/Next buttons (Mobile Only)
             // Check if the mobile navigation elements exist before adding listeners
             if (prevBtn && nextBtn) {
                 prevBtn.addEventListener('click', () => {
                     const newIndex = (currentIndex - 1 + benefits.length) % benefits.length;
                     updateBenefit(newIndex);
                 });

                 nextBtn.addEventListener('click', () => {
                     const newIndex = (currentIndex + 1) % benefits.length;
                     updateBenefit(newIndex);
                 });
             }

            // Event listeners for List Menu items (Desktop Only)
            benefitListItems.forEach(item => {
                item.addEventListener('click', function() {
                    // Only activate on desktop
                    if (window.innerWidth >= 768) { // md breakpoint
                        const index = parseInt(this.getAttribute('data-index'));
                        updateBenefit(index);
                    }
                });
            });

            // Initialize with first benefit on page load
            updateBenefit(0);

             // Handle window resize to update active list item and highlighted title when switching views
             window.addEventListener('resize', () => {
                 if (window.innerWidth >= 768) {
                     // If switching to desktop, ensure the list item corresponding to the current index is highlighted
                     benefitListItems.forEach(item => {
                        item.classList.remove('bg-mea-peach-light', 'text-mea-black');
                         item.classList.add('text-mea-dark-gray');
                    });
                     benefitListItems[currentIndex].classList.add('bg-mea-peach-light', 'text-mea-black');
                     benefitListItems[currentIndex].classList.remove('text-mea-dark-gray');

                     // Update the highlighted title on desktop if needed (though it's hidden, keeping data consistent)
                     if (currentBenefitHighlighted) {
                          currentBenefitHighlighted.querySelector('span').textContent = benefits[currentIndex].title;
                     }

                 } else {
                    // If switching to mobile, remove highlighting from list items
                     benefitListItems.forEach(item => {
                        item.classList.remove('bg-mea-peach-light', 'text-mea-black');
                         item.classList.add('text-mea-dark-gray');
                    });
                    // Ensure the mobile highlighted title is correct
                    if (currentBenefitText) {
                         currentBenefitText.textContent = benefits[currentIndex].title;
                    }
                 }
             });
        });

        function openImageModal(src) {
          document.getElementById('imageModalImg').src = src;
          document.getElementById('imageModal').classList.remove('hidden');
        }
        function closeImageModal() {
          document.getElementById('imageModal').classList.add('hidden');
          document.getElementById('imageModalImg').src = '';
        }

        // Show/hide custom fabric color input and other conditional inputs
        document.addEventListener('DOMContentLoaded', function() {
          // Populate size dropdowns
          function fillNumericOptions(select, start, end, step) {
            select.innerHTML = '';
            for (let v = start; v <= end; v += step) {
              const opt = document.createElement('option');
              opt.value = String(v);
              opt.textContent = String(v);
              select.appendChild(opt);
            }
          }
          const jacketSizeSel = document.getElementById('jacketSize');
          const pantsSizeSel = document.getElementById('pantsSize');
          const jacketLengthSel = document.getElementById('jacketLength');
          const jacketWidthSel = document.getElementById('jacketWidth');
          const pantsLengthSel = document.getElementById('pantsLength');
          const pantsWidthSel = document.getElementById('pantsWidth');
          const jacketPreview = document.getElementById('jacketPreview');
          const pantsPreview = document.getElementById('pantsPreview');

          if (jacketSizeSel) fillNumericOptions(jacketSizeSel, 32, 60, 2);
          if (pantsSizeSel) fillNumericOptions(pantsSizeSel, 28, 56, 2);

          function updatePreviews() {
            if (jacketPreview && jacketSizeSel && jacketLengthSel && jacketWidthSel) {
              jacketPreview.textContent = `${jacketSizeSel.value} / ${jacketLengthSel.value} / ${jacketWidthSel.value}`;
            }
            if (pantsPreview && pantsSizeSel && pantsLengthSel && pantsWidthSel) {
              pantsPreview.textContent = `${pantsSizeSel.value} / ${pantsLengthSel.value} / ${pantsWidthSel.value}`;
            }
          }
          [jacketSizeSel, jacketLengthSel, jacketWidthSel, pantsSizeSel, pantsLengthSel, pantsWidthSel]
            .filter(Boolean)
            .forEach(el => el.addEventListener('change', updatePreviews));
          updatePreviews();

          // Size chart modal behavior
          const sizeChartModal = document.getElementById('sizeChartModal');
          const openSizeChart = document.getElementById('openSizeChart');
          const closeSizeChart = document.getElementById('closeSizeChart');
          if (openSizeChart && sizeChartModal) {
            openSizeChart.addEventListener('click', () => sizeChartModal.classList.remove('hidden'));
          }
          if (closeSizeChart && sizeChartModal) {
            closeSizeChart.addEventListener('click', () => sizeChartModal.classList.add('hidden'));
          }
          if (sizeChartModal) {
            sizeChartModal.addEventListener('click', (e) => {
              if (e.target === sizeChartModal) sizeChartModal.classList.add('hidden');
            });
          }

          // Size Chart Tab Functionality
          const sizeChartTabs = document.querySelectorAll('.size-chart-tab');
          const sizeChartContents = document.querySelectorAll('.size-chart-content');
          
          sizeChartTabs.forEach(tab => {
            tab.addEventListener('click', () => {
              const targetTab = tab.getAttribute('data-tab');
              
              // Update active tab
              sizeChartTabs.forEach(t => {
                t.classList.remove('active');
                t.classList.remove('border-mea-peach', 'text-mea-peach');
                t.classList.add('text-gray-500');
              });
              tab.classList.add('active', 'border-mea-peach', 'text-mea-peach');
              tab.classList.remove('text-gray-500');
              
              // Show target content
              sizeChartContents.forEach(content => {
                content.classList.remove('active');
                content.classList.add('hidden');
              });
              
              const targetContent = document.getElementById(targetTab + (targetTab === 'custom' ? 'Measurements' : 'Chart'));
              if (targetContent) {
                targetContent.classList.remove('hidden');
                targetContent.classList.add('active');
              }
            });
          });

          // Custom Measurements Functionality
          const saveCustomMeasurementsBtn = document.getElementById('saveCustomMeasurements');
          if (saveCustomMeasurementsBtn) {
            saveCustomMeasurementsBtn.addEventListener('click', () => {
              // Collect all custom measurement values
              const customMeasurements = {
                jacket: {
                  length: document.getElementById('jacketLengthAdjust')?.value || '0',
                  chest: document.getElementById('jacketChestAdjust')?.value || '0',
                  waist: document.getElementById('jacketWaistAdjust')?.value || '0',
                  hip: document.getElementById('jacketHipAdjust')?.value || '0',
                  shoulder: document.getElementById('jacketShoulderAdjust')?.value || '0',
                  sleeve: document.getElementById('jacketSleeveAdjust')?.value || '0',
                  bicep: document.getElementById('jacketBicepAdjust')?.value || '0'
                },
                pants: {
                  waist: document.getElementById('pantsWaistAdjust')?.value || '0',
                  hip: document.getElementById('pantsHipAdjust')?.value || '0',
                  crotch: document.getElementById('pantsCrotchAdjust')?.value || '0',
                  thigh: document.getElementById('pantsThighAdjust')?.value || '0',
                  bottom: document.getElementById('pantsBottomAdjust')?.value || '0',
                  length: document.getElementById('pantsLengthAdjust')?.value || '0'
                }
              };

              // Save to localStorage
              localStorage.setItem('meaCustomMeasurements', JSON.stringify(customMeasurements));
              
              // Show success message
              const successMessage = document.createElement('div');
              successMessage.className = 'fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded shadow-lg z-50';
              successMessage.textContent = 'Custom measurements saved successfully!';
              document.body.appendChild(successMessage);
              setTimeout(() => successMessage.remove(), 3000);
              
              // Close the modal
              sizeChartModal.classList.add('hidden');
            });
          }

          // Load custom measurements on page load
          function loadCustomMeasurements() {
            const savedMeasurements = localStorage.getItem('meaCustomMeasurements');
            if (savedMeasurements) {
              const measurements = JSON.parse(savedMeasurements);
              
              // Load jacket measurements
              if (measurements.jacket) {
                Object.keys(measurements.jacket).forEach(key => {
                  const element = document.getElementById(`jacket${key.charAt(0).toUpperCase() + key.slice(1)}Adjust`);
                  if (element) {
                    element.value = measurements.jacket[key];
                  }
                });
              }
              
              // Load pants measurements
              if (measurements.pants) {
                Object.keys(measurements.pants).forEach(key => {
                  const element = document.getElementById(`pants${key.charAt(0).toUpperCase() + key.slice(1)}Adjust`);
                  if (element) {
                    element.value = measurements.pants[key];
                  }
                });
              }
            }
          }

          // Load custom measurements when size chart modal opens
          if (openSizeChart) {
            openSizeChart.addEventListener('click', loadCustomMeasurements);
          }

          // Function to apply custom measurements to size selection
          function applyCustomMeasurementsToSize() {
            const savedMeasurements = localStorage.getItem('meaCustomMeasurements');
            if (savedMeasurements) {
              try {
                const measurements = JSON.parse(savedMeasurements);
                
                // Update size previews to show custom adjustments
                const jacketPreview = document.getElementById('jacketPreview');
                const pantsPreview = document.getElementById('pantsPreview');
                
                if (jacketPreview && measurements.jacket) {
                  const jacketSize = document.getElementById('jacketSize')?.value || '';
                  const jacketLength = document.getElementById('jacketLength')?.value || '';
                  const jacketWidth = document.getElementById('jacketWidth')?.value || '';
                  
                  if (jacketSize && jacketLength && jacketWidth) {
                    let customNote = '';
                    const hasAdjustments = Object.values(measurements.jacket).some(val => parseFloat(val) !== 0);
                    if (hasAdjustments) {
                      customNote = ' (with custom adjustments)';
                    }
                    jacketPreview.textContent = `${jacketSize} / ${jacketLength} / ${jacketWidth}${customNote}`;
                  }
                }
                
                if (pantsPreview && measurements.pants) {
                  const pantsSize = document.getElementById('pantsSize')?.value || '';
                  const pantsLength = document.getElementById('pantsLength')?.value || '';
                  const pantsWidth = document.getElementById('pantsWidth')?.value || '';
                  
                  if (pantsSize && pantsLength && pantsWidth) {
                    let customNote = '';
                    const hasAdjustments = Object.values(measurements.pants).some(val => parseFloat(val) !== 0);
                    if (hasAdjustments) {
                      customNote = ' (with custom adjustments)';
                    }
                    pantsPreview.textContent = `${pantsSize} / ${pantsLength} / ${pantsWidth}${customNote}`;
                  }
                }
              } catch (e) {
                console.warn('Error applying custom measurements:', e);
              }
            }
          }

          // Apply custom measurements when size form changes
          const sizeFormElements = [jacketSizeSel, jacketLengthSel, jacketWidthSel, pantsSizeSel, pantsLengthSel, pantsWidthSel];
          sizeFormElements.forEach(el => {
            if (el) {
              el.addEventListener('change', applyCustomMeasurementsToSize);
            }
          });

          // Apply custom measurements on page load
          setTimeout(applyCustomMeasurementsToSize, 100);

          var fabricColorSelect = document.getElementById('fabricColorSelect');
          var fabricColorOtherInput = document.getElementById('fabricColorOtherInput');
          if (fabricColorSelect) {
            fabricColorSelect.addEventListener('change', function() {
              if (this.value === 'Other') {
                fabricColorOtherInput.classList.remove('hidden');
                fabricColorOtherInput.required = true;
              } else {
                fabricColorOtherInput.classList.add('hidden');
                fabricColorOtherInput.required = false;
                fabricColorOtherInput.value = '';
              }
            });
             // Trigger change on load to set initial state based on saved data
             const event = new Event('change');
             fabricColorSelect.dispatchEvent(event);
          }
          // Show/hide custom lining code input
          var customLiningRadios = document.getElementsByName('customLining');
          var customLiningCodeInput = document.getElementById('customLiningCodeInput');
          if (customLiningRadios.length > 0 && customLiningCodeInput) {
            customLiningRadios.forEach(function(radio) {
              radio.addEventListener('change', function() {
                if (this.value === 'Yes') {
                  customLiningCodeInput.classList.remove('hidden');
                  customLiningCodeInput.required = true;
                } else {
                  customLiningCodeInput.classList.add('hidden');
                  customLiningCodeInput.required = false;
                  customLiningCodeInput.value = '';
                }
              });
            });
             // Trigger change on load
             customLiningRadios.forEach(radio => {
                if (radio.checked) {
                   const event = new Event('change');
                   radio.dispatchEvent(event);
                }
             });
          }
          // Show/hide embroidery text input
          var embroideryTextRadios = document.getElementsByName('embroideryText');
          var embroideryTextInput = document.getElementById('embroideryTextInput');
          if (embroideryTextRadios.length > 0 && embroideryTextInput) {
            embroideryTextRadios.forEach(function(radio) {
              radio.addEventListener('change', function() {
                if (this.value === 'Yes') {
                  embroideryTextInput.classList.remove('hidden');
                  embroideryTextInput.required = true;
                } else {
                  embroideryTextInput.classList.add('hidden');
                  embroideryTextInput.required = false;
                  embroideryTextInput.value = '';
                }
              });
            });
            // Trigger change on load
             embroideryTextRadios.forEach(radio => {
                if (radio.checked) {
                   const event = new Event('change');
                   radio.dispatchEvent(event);
                }
             });
          }
        });
    </script>
</body>
</html>
    </script>
</body>
</html>
             
    </script>
</body>
</html>
